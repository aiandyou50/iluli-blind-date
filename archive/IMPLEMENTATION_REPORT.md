# ì´ë£¨ë¦¬ (Iluli) ì†Œê°œíŒ… ì›¹ ì„œë¹„ìŠ¤ - êµ¬í˜„ ì™„ë£Œ ë³´ê³ ì„œ

## ğŸ“Š í”„ë¡œì íŠ¸ ê°œìš”

ëŒ€í•™ìƒì„ ìœ„í•œ ì‚¬ì§„ ê¸°ë°˜ ì†Œê°œíŒ… í”Œë«í¼ "ì´ë£¨ë¦¬(Iluli)"ì˜ í•µì‹¬ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.
Google Material Design 3 ìŠ¤íƒ€ì¼ì„ ì ìš©í•œ í˜„ëŒ€ì ì´ê³  ì§ê´€ì ì¸ UI/UXë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## âœ… êµ¬í˜„ ì™„ë£Œ ê¸°ëŠ¥

### Phase 1: í”„ë¡œí•„ ê´€ë¦¬ (PRD-USER-001, PRD-USER-002)
- âœ… Google OAuth 2.0 ë¡œê·¸ì¸
- âœ… ë‚´ í”„ë¡œí•„ ì •ë³´ ê´€ë¦¬ (ë‹‰ë„¤ì„, í•™êµ, MBTI, ìê¸°ì†Œê°œ, ì¸ìŠ¤íƒ€ê·¸ë¨)
- âœ… í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ (R2 ìŠ¤í† ë¦¬ì§€)
- âœ… ì‚¬ì§„ ì¸ì¦ ì‹ ì²­ ì‹œìŠ¤í…œ
- âœ… ì‚¬ì§„ ì‚­ì œ ê¸°ëŠ¥ (CASCADE ì‚­ì œ)
- âœ… ê³µê°œ í”„ë¡œí•„ ì¡°íšŒ (ìŠ¹ì¸ëœ ì‚¬ì§„ë§Œ í‘œì‹œ)
- âœ… ì¸ìŠ¤íƒ€ê·¸ë¨ ì—°ë™ (ì¡°ê±´ë¶€ í‘œì‹œ)

### Phase 2: í”¼ë“œ ë° ì¢‹ì•„ìš” (PRD-USER-003, PRD-USER-004)
- âœ… ë©”ì¸ í”¼ë“œ ë¸Œë¼ìš°ì§•
- âœ… ë‹¤ì–‘í•œ ì •ë ¬ ì˜µì…˜:
  - ìµœì‹ ìˆœ
  - ê³¼ê±°ìˆœ
  - ì¢‹ì•„ìš”ìˆœ
  - ëœë¤
  - ê±°ë¦¬ìˆœ (GPS + Haversine formula)
- âœ… ë¬´í•œ ìŠ¤í¬ë¡¤ (Infinite Scroll)
- âœ… ì‚¬ì§„ í™•ëŒ€/ì¶•ì†Œ (Lightbox ëª¨ë‹¬)
- âœ… ì¢‹ì•„ìš”/ì¢‹ì•„ìš” ì·¨ì†Œ (Optimistic UI)
- âœ… ì¢‹ì•„ìš” ëˆ„ë¥¸ ì‚¬ëŒ ëª©ë¡ ì¡°íšŒ
- âœ… ì‹¤ì‹œê°„ ì¢‹ì•„ìš” ì¹´ìš´íŠ¸

### Phase 3: ë§¤ì¹­ ì‹œìŠ¤í…œ (PRD-MATCH-001)
- âœ… Tinder ìŠ¤íƒ€ì¼ ë§¤ì¹­ ì¹´ë“œ UI
- âœ… OK/Pass ì•¡ì…˜ ì‹œìŠ¤í…œ
- âœ… ì—¬ëŸ¬ ì‚¬ì§„ ë„¤ë¹„ê²Œì´ì…˜
- âœ… ìƒí˜¸ OK ê°ì§€ ë° ë§¤ì¹˜ ì„±ì‚¬
- âœ… ë§¤ì¹˜ ì„±ê³µ ëª¨ë‹¬
- âœ… ì¸ìŠ¤íƒ€ê·¸ë¨ DM ì—°ê²° (ì¡°ê±´ë¶€)
- âœ… ë§¤ì¹­ ëª©ë¡ ì¡°íšŒ

### Phase 4: UI/UX (Google Material Design 3)
- âœ… Google ìƒ‰ìƒ íŒ”ë ˆíŠ¸:
  - Primary: Google Blue (#4285f4)
  - Secondary: Google Yellow (#fbbc04)
  - Success: Google Green (#34a853)
  - Error: Google Red (#ea4335)
- âœ… Roboto í°íŠ¸ ì ìš©
- âœ… Material Design Elevation ì‹œìŠ¤í…œ
- âœ… ë¡œê·¸ì¸ í˜ì´ì§€ Google ìŠ¤íƒ€ì¼ ë¦¬ë””ìì¸
- âœ… ê³µí†µ Layout ì»´í¬ë„ŒíŠ¸
- âœ… ë°˜ì‘í˜• ë„¤ë¹„ê²Œì´ì…˜ (ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼)

## ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜

### Backend
```
Cloudflare Workers (Hono Framework)
â”œâ”€â”€ D1 Database (SQLite)
â”‚   â”œâ”€â”€ Users
â”‚   â”œâ”€â”€ UserProfiles
â”‚   â”œâ”€â”€ ProfilePhotos
â”‚   â”œâ”€â”€ Likes
â”‚   â”œâ”€â”€ MatchingActions
â”‚   â””â”€â”€ Matches
â”œâ”€â”€ R2 Storage (ì‚¬ì§„ íŒŒì¼)
â””â”€â”€ Google OAuth 2.0 (ì¸ì¦)
```

### Frontend
```
React 18 + TypeScript
â”œâ”€â”€ React Query (ì„œë²„ ìƒíƒœ ê´€ë¦¬)
â”œâ”€â”€ Zustand (í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬)
â”œâ”€â”€ Tailwind CSS (ìŠ¤íƒ€ì¼ë§)
â”œâ”€â”€ Axios (HTTP í´ë¼ì´ì–¸íŠ¸)
â””â”€â”€ Heroicons (ì•„ì´ì½˜)
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
iluli-blind-date/
â”œâ”€â”€ frontend/                 # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/             # API í´ë¼ì´ì–¸íŠ¸ (3ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ feed.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ matching.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ profile.ts
â”‚   â”‚   â”‚   â””â”€â”€ users.ts
â”‚   â”‚   â”œâ”€â”€ components/      # ê³µí†µ ì»´í¬ë„ŒíŠ¸ (1ê°œ)
â”‚   â”‚   â”‚   â””â”€â”€ Layout.tsx
â”‚   â”‚   â”œâ”€â”€ pages/           # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ (5ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfilePage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PublicProfilePage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FeedPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MatchingPage.tsx
â”‚   â”‚   â”œâ”€â”€ store/           # ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ authStore.ts
â”‚   â”‚   â”œâ”€â”€ types/           # TypeScript íƒ€ì…
â”‚   â”‚   â”‚   â””â”€â”€ profile.ts
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ worker/                   # Cloudflare Workers ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # API ë¼ìš°íŠ¸ (6ê°œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ profile.ts   # ë‚´ í”„ë¡œí•„ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ photos.ts    # ì‚¬ì§„ ì—…ë¡œë“œ/ì‚­ì œ
â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts     # ê³µê°œ í”„ë¡œí•„ ì¡°íšŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ feed.ts      # í”¼ë“œ ì¡°íšŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ likes.ts     # ì¢‹ì•„ìš” ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ matching.ts  # ë§¤ì¹­ ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â””â”€â”€ auth.ts      # Google OAuth ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ env.ts       # í™˜ê²½ ë³€ìˆ˜ íƒ€ì…
â”‚   â”‚   â””â”€â”€ index.ts         # ë©”ì¸ ì—”íŠ¸ë¦¬
â”‚   â”œâ”€â”€ schema.sql           # D1 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ wrangler.toml        # Cloudflare ì„¤ì •
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ docs/                     # í”„ë¡œì íŠ¸ ë¬¸ì„œ
    â”œâ”€â”€ PRD-*.md             # ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ
    â”œâ”€â”€ Tech-Spec-*.md       # ê¸°ìˆ  ëª…ì„¸ì„œ
    â””â”€â”€ PROJECT_STATUS.md    # í”„ë¡œì íŠ¸ ìƒíƒœ
```

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸ (ì´ 17ê°œ)

### ì¸ì¦
- `authMiddleware` - Google OAuth JWT í† í° ê²€ì¦

### í”„ë¡œí•„ ê´€ë¦¬
- `GET /api/v1/profile` - ë‚´ í”„ë¡œí•„ ì¡°íšŒ
- `PATCH /api/v1/profile` - ë‚´ í”„ë¡œí•„ ìˆ˜ì •

### ì‚¬ì§„ ê´€ë¦¬
- `POST /api/v1/profile/photos/upload` - ì‚¬ì§„ ì—…ë¡œë“œ
- `POST /api/v1/profile/photos/:photoId/request-verification` - ì¸ì¦ ìš”ì²­
- `DELETE /api/v1/profile/photos/:photoId` - ì‚¬ì§„ ì‚­ì œ

### ì‚¬ìš©ì ì¡°íšŒ
- `GET /api/v1/users/:userId/profile` - ê³µê°œ í”„ë¡œí•„ ì¡°íšŒ

### í”¼ë“œ
- `GET /api/v1/feed?sort=latest|popular|random|distance&page=1` - í”¼ë“œ ì¡°íšŒ

### ì¢‹ì•„ìš”
- `POST /api/v1/photos/:photoId/like` - ì¢‹ì•„ìš”
- `POST /api/v1/photos/:photoId/unlike` - ì¢‹ì•„ìš” ì·¨ì†Œ
- `GET /api/v1/photos/:photoId/likers` - ì¢‹ì•„ìš” ëˆ„ë¥¸ ì‚¬ëŒ ëª©ë¡

### ë§¤ì¹­
- `GET /api/v1/matching/deck` - ë§¤ì¹­ ì¹´ë“œ ë± ì¡°íšŒ
- `POST /api/v1/matching/action` - OK/Pass ì•¡ì…˜
- `GET /api/v1/matching/matches` - ë‚´ ë§¤ì¹­ ëª©ë¡

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### Users (ì‚¬ìš©ì)
- `id` (TEXT, PK) - UUID
- `google_subject_id` (TEXT, UNIQUE) - Google ê³ ìœ  ID
- `email` (TEXT) - ì´ë©”ì¼
- `created_at` (TEXT) - ìƒì„± ì‹œê°

### UserProfiles (ì‚¬ìš©ì í”„ë¡œí•„)
- `user_id` (TEXT, PK, FK â†’ Users)
- `nickname` (TEXT, UNIQUE) - ë‹‰ë„¤ì„
- `school` (TEXT) - í•™êµ
- `mbti` (TEXT) - MBTI
- `bio` (TEXT) - ìê¸°ì†Œê°œ
- `instagram_url` (TEXT) - ì¸ìŠ¤íƒ€ê·¸ë¨ URL
- `latitude` (REAL) - ìœ„ë„
- `longitude` (REAL) - ê²½ë„
- `geohash` (TEXT) - Geohash (ê±°ë¦¬ ê³„ì‚°ìš©)
- `location_updated_at` (TEXT) - ìœ„ì¹˜ ì—…ë°ì´íŠ¸ ì‹œê°

### ProfilePhotos (í”„ë¡œí•„ ì‚¬ì§„)
- `id` (TEXT, PK) - UUID
- `user_id` (TEXT, FK â†’ Users)
- `image_url` (TEXT) - R2 URL
- `verification_status` (TEXT) - ì¸ì¦ ìƒíƒœ (not_applied|pending|approved|rejected)
- `rejection_reason` (TEXT) - ê±°ì ˆ ì‚¬ìœ 
- `likes_count` (INTEGER) - ì¢‹ì•„ìš” ìˆ˜
- `created_at` (TEXT) - ìƒì„± ì‹œê°

### Likes (ì¢‹ì•„ìš”)
- `user_id` (TEXT, PK, FK â†’ Users)
- `photo_id` (TEXT, PK, FK â†’ ProfilePhotos, ON DELETE CASCADE)
- `created_at` (TEXT) - ìƒì„± ì‹œê°

### MatchingActions (ë§¤ì¹­ ì•¡ì…˜)
- `source_user_id` (TEXT, PK, FK â†’ Users)
- `target_user_id` (TEXT, PK, FK â†’ Users)
- `action` (TEXT) - ok | pass
- `created_at` (TEXT) - ìƒì„± ì‹œê°

### Matches (ë§¤ì¹­ ì„±ì‚¬)
- `id` (TEXT, PK) - UUID
- `user_a_id` (TEXT, FK â†’ Users)
- `user_b_id` (TEXT, FK â†’ Users)
- `created_at` (TEXT) - ìƒì„± ì‹œê°
- CONSTRAINT: `user_a_id < user_b_id` (ì •ë ¬ ì œì•½)
- UNIQUE: `(user_a_id, user_b_id)` (ì¤‘ë³µ ë°©ì§€)

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

### ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (Google Material Design 3)
```css
Primary (Google Blue)
â”œâ”€â”€ 50:  #e8f0fe
â”œâ”€â”€ 500: #4285f4  /* Main */
â””â”€â”€ 900: #174ea6

Secondary (Google Yellow)
â”œâ”€â”€ 50:  #fef7e0
â”œâ”€â”€ 500: #fbbc04  /* Main */
â””â”€â”€ 900: #e37400

Success: #34a853  /* Google Green */
Error:   #ea4335  /* Google Red */
```

### íƒ€ì´í¬ê·¸ë˜í”¼
- **Font Family**: Roboto (Google Fonts)
- **Font Weights**: 300, 400, 500, 700

### Elevation (ê·¸ë¦¼ì)
```css
elevation-1: box-shadow: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);
elevation-2: box-shadow: 0 1px 3px 0 rgba(60,64,67,.3), 0 4px 8px 3px rgba(60,64,67,.15);
elevation-3: box-shadow: 0 1px 6px 0 rgba(60,64,67,.3), 0 8px 16px 6px rgba(60,64,67,.15);
```

### Border Radius
- **rounded-google**: 8px

## ğŸ” ë³´ì•ˆ ê¸°ëŠ¥

### ì¸ì¦ ë° ê¶Œí•œ
- âœ… Google OAuth 2.0 JWT í† í° ê²€ì¦
- âœ… ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ ì¸ì¦ í•„ìˆ˜
- âœ… ì‚¬ì§„ ì†Œìœ ê¶Œ ê²€ì¦ (ì‚­ì œ, ì¢‹ì•„ìš” ëª©ë¡ ì¡°íšŒ)
- âœ… CORS ì„¤ì •

### ë°ì´í„° ë³´í˜¸
- âœ… ë¯¼ê° ì •ë³´ (ì´ë©”ì¼, Google ID) ë¹„ê³µê°œ
- âœ… ìŠ¹ì¸ëœ ì‚¬ì§„ë§Œ ê³µê°œ í”„ë¡œí•„ì— í‘œì‹œ
- âœ… CASCADE ì‚­ì œë¡œ ë°ì´í„° ì •í•©ì„± ë³´ì¥

### ì…ë ¥ ê²€ì¦
- âœ… íŒŒì¼ íƒ€ì… ê²€ì¦ (JPEG, PNG, WebP)
- âœ… íŒŒì¼ í¬ê¸° ì œí•œ (10MB)
- âœ… ì¸ìŠ¤íƒ€ê·¸ë¨ URL í˜•ì‹ ê²€ì¦
- âœ… MBTI, ì•¡ì…˜ íƒ€ì… ë“± Enum ê²€ì¦

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### Backend
- âœ… D1 ì¸ë±ì‹±:
  - `idx_userprofiles_geohash` - ê±°ë¦¬ìˆœ ì •ë ¬
  - `idx_profilephotos_likes_count` - ì¢‹ì•„ìš”ìˆœ ì •ë ¬
  - `idx_likes_photo_id` - ì¢‹ì•„ìš” ëª©ë¡ ì¡°íšŒ
- âœ… Geohash ê¸°ë°˜ ìœ„ì¹˜ ê²€ìƒ‰
- âœ… í˜ì´ì§€ë„¤ì´ì…˜ (í”¼ë“œ, ë§¤ì¹­)

### Frontend
- âœ… React Query ìºì‹±
- âœ… Optimistic UI (ì¢‹ì•„ìš”)
- âœ… Infinite Scroll (í”¼ë“œ)
- âœ… ì´ë¯¸ì§€ ì••ì¶• (ì—…ë¡œë“œ ì „)
- âœ… Lazy Loading (React.lazy, Suspense)

## ğŸš€ ë°°í¬

### í”„ë¡œë•ì…˜ í™˜ê²½
- **Frontend URL**: https://aiboop.org (ì˜ˆì •)
- **API URL**: https://aiboop.org/api/v1 (ì˜ˆì •)
- **Worker URL**: https://iluli-worker-prod.x00518.workers.dev

### ë°°í¬ ì ˆì°¨
```bash
# 1. Frontend ë¹Œë“œ
cd frontend
npm run build

# 2. Workerë¡œ ë³µì‚¬
cp -r dist ../worker/public

# 3. D1 ìŠ¤í‚¤ë§ˆ ì ìš© (í”„ë¡œë•ì…˜)
cd ../worker
wrangler d1 execute iluli-db --remote --file=./schema.sql

# 4. Worker ë°°í¬
wrangler deploy --env production
```

## ğŸ“ˆ í–¥í›„ ê°œì„  ì‚¬í•­

### ìš°ì„ ìˆœìœ„ ë†’ìŒ
- [ ] ê´€ë¦¬ì ê¸°ëŠ¥ (PRD-ADMIN-001)
  - [ ] ì‚¬ì§„ ì¸ì¦ ìŠ¹ì¸/ê±°ì ˆ
  - [ ] ì‚¬ìš©ì ê´€ë¦¬
  - [ ] í†µê³„ ëŒ€ì‹œë³´ë“œ

### ìš°ì„ ìˆœìœ„ ì¤‘ê°„
- [ ] ì¶”ê°€ UI/UX ê°œì„ 
  - [ ] í˜ì´ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
  - [ ] ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
  - [ ] ì—ëŸ¬ ìƒíƒœ UI
  - [ ] ë‹¤í¬ ëª¨ë“œ

### ìš°ì„ ìˆœìœ„ ë‚®ìŒ
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ
- [ ] ì±„íŒ… ê¸°ëŠ¥
- [ ] í”„ë¡œí•„ ê²€ì¦ (í•™ìƒì¦)
- [ ] ë¶„ì„ ë° ëª¨ë‹ˆí„°ë§

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License

---

**ê°œë°œ ì™„ë£Œ ì¼ì‹œ**: 2025-11-16  
**ê°œë°œì**: GitHub Copilot Agent  
**ë²„ì „**: 1.0.0
